package it.polito.dp2.NFFG.sol1;

import it.polito.dp2.NFFG.*;
import it.polito.dp2.NFFG.sol1.jaxb.LinkType;
import it.polito.dp2.NFFG.sol1.jaxb.NffgType;
import it.polito.dp2.NFFG.sol1.jaxb.NodeType;
import it.polito.dp2.NFFG.sol1.jaxb.NodesType;

public class MyLinkReader implements LinkReader {

	private String linkName;
	private NodeReader srcNode, destNode;

	public MyLinkReader(NffgType nffg, LinkType link) {

		this.linkName = link.getLinkName();

		NodesType nodes = new NodesType();
		nodes = nffg.getNodes();
		for (NodeType node_r : nodes.getNode()) {
			String nodeName;
			nodeName = node_r.getNodeName();

			if (nodeName.equals(link.getSrcNode()))
				this.srcNode = new MyNodeReader(node_r, nffg);
			else if (nodeName.equals(link.getDestNode()))
					this.destNode = new MyNodeReader(node_r, nffg);
			else System.out.println("Node is not recognized");
		}	
		
	}

	@Override
	public String getName() {
		// TODO Auto-generated method stub
		return this.linkName;
	}

	@Override
	public NodeReader getDestinationNode() {
		// TODO Auto-generated method stub
		return this.destNode;
	}

	@Override
	public NodeReader getSourceNode() {
		// TODO Auto-generated method stub
		return this.srcNode;
	}

}
